<div class="np-component"
    [ngClass]="{'np-component-hide-input':hideColorInput, 'np-component-default-open': defaultOpen}">
    <div class="np-input-group" *ngIf="!defaultOpen">
        <input type="text" class="np-colorpicker-input" #colorpickerinput [(ngModel)]="value" [disabled]="_isDisabled"
            (focus)="_open()" (input)="_onInputChange()" [placeholder]="placeholder"
            [ngClass]="{'np-hide-input':hideColorInput}">
        <div class="np-colorpicker-input-selected" (click)="_toggleColorPicker()"
            [ngStyle]="{'background-color': _innerValue}">
        </div>
        <a class="np-input-colorpicker-append" (click)="_toggleColorPicker()">
            <svg class="np-icon" viewBox="0 0 24 24">
                <path d="M0 0h24v24H0z" fill="none" />
                <path fill="currentcolor"
                    d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z" />
            </svg>
        </a>
    </div>
    <div class="np-overlay np-ui-background" *ngIf="_isOpen || defaultOpen"
        [ngClass]="{'np-overlay-colorpicker-open' : defaultOpen}">
        <div class="np-selected-block">
            <div class="np-selected-div" [ngStyle]="{'background-color': _innerValue}"></div>
            <div class="np-selected-text">
                <div><span>HEX:</span> {{_innerValue}}</div>
                <div><span>RGB:</span> {{_currentHexToRGB()}}</div>
            </div>

        </div>
        <div class="np-canvases">
            <canvas class="np-canvas-block" width="200" height="200" (click)="_clickBlockColor($event)"
                (mousemove)="_onMouseOverBlock($event)" (mouseleave)="_onMouseLeaveBlock($event)"></canvas>
            <canvas class="np-canvas-strip" width="30" height="200" (click)="_clickStripeColor($event)"
                (mousemove)="_onMouseOverStrip($event)" (mouseleave)="_onMouseLeaveStrip($event)"></canvas>
        </div>
        <div class="np-color-block-list">
            <div class="np-no-color-block" title="Remove color" (click)="_onClickColorBlock(null)">
                <svg class="np-icon" viewBox="0 0 24 24">
                    <path fill="currentcolor"
                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    <path d="M0 0h24v24H0z" fill="none" />
                </svg>
            </div>
            <div class="np-color-block" *ngFor="let color of _colors" [style.background-color]="color"
                (click)="_onClickColorBlock(color)">
            </div>
        </div>
        <div class="np-button-group">
            <a class="np-button" title="Clear" (click)="_clear()">Clear</a>
            <a *ngIf="!defaultOpen" class="np-button" title="Ok" (click)="_close()">Ok</a>
        </div>
    </div>
</div>
<div class="np-current-color-div" *ngIf="_isShowCursorDiv"
    [ngStyle]="{'background-color': _currentCursorColor, 'position': 'absolute', 'left': _x , 'top': _y}">
</div>